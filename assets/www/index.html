<!DOCTYPE HTML>
<html>
<head>
<script type="text/javascript" src="js/jquery-1.9.1.js"></script>  
<script type="text/javascript" src="js/jquery-ui.js"></script> 
<script>

function init() {
    document.addEventListener("touchstart", touchHandler, true);
    document.addEventListener("touchmove", touchHandler, true);
    document.addEventListener("touchend", touchHandler, true);
    document.addEventListener("touchcancel", touchHandler, true);   
}

function touchHandler(event)
{
    var touches = event.changedTouches,
        first = touches[0],
        type = "";
        switch(event.type)
        {
          case "touchstart": type = "mousedown"; break;
          case "touchmove":  type="mousemove"; break;        
          case "touchend":   type="mouseup"; break;
          default: return;
        }
        var simulatedEvent = document.createEvent("MouseEvent");
           simulatedEvent.initMouseEvent(type, true, true, window, 1,
                              first.screenX, first.screenY,
                              first.clientX, first.clientY, false,
                              false, false, false, 0/*left*/, null);
        first.target.dispatchEvent(simulatedEvent); 
        event.preventDefault();
}
           
/*function allowDrop(ev)
{
ev.preventDefault();
}

function drag(ev)
{
ev.dataTransfer.setData("Text",ev.target.id);
}

function drop(ev, id)
{
ev.preventDefault();
  if(document.getElementById(id).innerHTML < 10)
  {
  var data=ev.dataTransfer.getData("Text");
  ev.target.appendChild(document.getElementById(data));
  }

  checkwin();

 }*/

 function checkwin()
  {
     var z=1;
     var win = 0;
      $('.place').each(function(i, obj) 
          {
                    if(this.querySelector("#img"+z))
                      {
                        win++;
                      }
                    z++;
          });
      if(win==16)
      {
        alert("NAKADAOG KAG WANMELYON PESOS!");
      }
  }

   $(function() {
        var z =0;
            for(z=0; z<16; z++){
                $( "#puzz"+z ).draggable(//{ 
                );

                 $( "#place"+z ).droppable(//{ 
                   
                );
             }
             
               
              });

  

</script>
<style>
  .puzz
  {
    height:50px;
    width:50px;
  }
</style>
</head>
<body>




<div id='container' style='height: 200px; width: 200px'>
</div>


<div id='container2' style='height: 210px; width: 210px; position:fixed; left: 200px; top: 200px;'>
</div>


<script>
  var i = 1;
  var z = 1
  var x = 0;
  var y = 0;

  var mintop = 500;

    for(z=1;z<=16;z++)
    {
      //$("#container").append("<div id='puzz"+z+"' class='puzz' style='overflow:hidden;' draggable='true' ondragstart='drag(event)'></div>");
      $("#container").append("<div id='puzz"+z+"' class='puzz' style='overflow:hidden;'></div>");
      //$("#puzz"+z).append("<img class='img' id='img"+z+"' draggable='false' style='overflow: hidden;' src='img/dart.jpg' alt='Clipped image'/>");
      $("#puzz"+z).append("<img class='img' id='img"+z+"' draggable='false' src='img/dart.jpg' alt='Clipped image'/>");
    }

    for(z=1;z<=16;z++)
    {
    //  $("#container2").append("<div id='place"+z+"' class='place' style='overflow:hidden; float:left; border: 1px solid black; height:50px; width: 50px;' ondrop='drop(event, this.id)' ondragover='allowDrop(event)'></div>");
       $("#container2").append("<div id='place"+z+"' class='place' style='overflow:hidden; float:left; border: 1px solid black; height:50px; width: 50px;'></div>");
      
    }


    for(y=1; y<=4; y++)
      {
       for(x=1; x<=4; x++)
          {     
                document.getElementById('img'+i).style.marginLeft = -(x-1)*50+"px"; 
                document.getElementById('img'+i).style.marginTop = -(y-1)*50+"px"; 
                i++;
          }
      }


</script>
 <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript">
            app.initialize();
        </script>
</body>