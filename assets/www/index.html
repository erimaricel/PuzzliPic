<!DOCTYPE HTML>
<html>
<head>
<script type="text/javascript" src="js/jquery-1.9.1.js"></script>  
<script type="text/javascript" src="js/jquery-ui.js"></script> 
<script>

 $( init );

 function init() {
  document.addEventListener("touchstart", touchHandler, true);
  document.addEventListener("touchmove", touchHandler, true);
  document.addEventListener("touchend", touchHandler, true);
  document.addEventListener("touchcancel", touchHandler, true);   
  }
  function touchHandler(event)
  {
  var touches = event.changedTouches,
  first = touches[0],
  type = "";
  switch(event.type)
  {
  case "touchstart": type="mousedown"; break;
  case "touchmove":  type="mousemove"; break;        
  case "touchend":   type="mouseup"; break;
  default: return;
  }
  var simulatedEvent = document.createEvent("MouseEvent");
   simulatedEvent.initMouseEvent(type, true, true, window, 1,
                      first.screenX, first.screenY,
                      first.clientX, first.clientY, false,
                      false, false, false, 0/*left*/, null);
  first.target.dispatchEvent(simulatedEvent); 
  event.preventDefault();
   }

 function checkwin()
  {
     var z=1;
     var win = 0;
      $('.place').each(function(i, obj) 
          {
                    if(this.querySelector("#img"+z))
                      {
                        win++;
                      }
                    z++;
          });
      if(win==16)
      {
        alert("NAKADAOG KAG WANMELYON PESOS!");
      }
  }

function start() {
  var i = 1;
  var z = 1
  var x = 0;
  var y = 0;

  var mintop = 500;

    for(z=1;z<=16;z++)
    {
      $("#container").append("<div id='puzz"+z+"' class='puzz' style='overflow:hidden;'></div>");
      $("#puzz"+z).append("<img class='img' id='img"+z+"' draggable='false'  style='overflow: hidden;' src='img/dart.jpg' alt='Clipped image'/>");
    }

    for(z=1;z<=16;z++)
    {
      $("#container2").append("<div id='place"+z+"' class='place' style='float:left; border: 1px solid black; height:55px; width: 55px;'></div>");
      
    }

    $('.puzz').draggable({helper: 'clone'});

    var stockArea = $('.place').droppable({
        drop: function (event, ui) {
            var target = $('.place');
            $(this).empty();
            $(ui.draggable).appendTo(this);
            checkwin();
        }
    }).sortable({});
 


    for(y=1; y<=4; y++)
      {
       for(x=1; x<=4; x++)
          {     
                document.getElementById('img'+i).style.marginLeft = -(x-1)*50+"px"; 
                document.getElementById('img'+i).style.marginTop = -(y-1)*50+"px"; 
                i++;
          }
      }

    }
</script>
<style>
  .puzz
  {
    height:50px;
    width:50px;
  }
</style>
</head>


<body onload='start()'>
<div id='container' style='height: 200px; width: 200px'>
</div>


<div id='container2' style='height: 230px; width: 230px; position:fixed; left: 200px; top: 200px;'>
</div>

